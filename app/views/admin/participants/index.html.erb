<p>
  <%= link_to 'Participants', admin_participants_path, :class=>'btn btn-primary' %>
  <%= link_to 'Responses', admin_responses_path, :class=>'btn' %>
  <%= link_to 'Randomisations', admin_randomisations_path, :class=>'btn' %>
</p>

<p id="notice"><%= notice %></p>

<h1>Participants</h1>

<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>IP</th>
      <th>Date</th>
      <th>Main language</th>
      <th>Years programming</th>
      <th>Language</th>
      <th>Filled in responses</th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @participants.each do |participant| %>
      <tr>
        <td><%= participant.id %></td>
        <td><%= participant.ip %></td>
        <td><%= participant.created_at.strftime('%d/%m/%Y %H:%M') %></td>
        <td><%= participant.main_language %></td>
        <td><%= participant.years_programming %></td>
        <td><%= participant.language_choice %></td>
        <td><%= participant.responses.where.not(given_answer: nil).count%></td>
        <td><%= link_to 'Show', [:admin, participant] %></td>
      </tr>
    <% end %>
  </tbody>
</table>
